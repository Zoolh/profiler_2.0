{"ast":null,"code":"import _slicedToArray from\"C:\\\\Perso\\\\profiler_2.0\\\\front\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from\"react\";import{useSelector,useDispatch}from\"react-redux\";import{For}from'react-loops';import PropositionDataService from'../services/PropositionService';import{incrementPointProfil,incrementReponse}from'../actions/profilAction';import\"./Proposition.css\";import{incrementPointGestion,incrementReponseGestion}from\"../actions/gestionAction\";import{setSelectedProposition}from'../actions/supportAction';var Proposition=function Proposition(props){var dispatch=useDispatch();var _useState=useState(),_useState2=_slicedToArray(_useState,2),listePropositions=_useState2[0],setListePropositions=_useState2[1];useEffect(function(){return getListPropositions();},[props.idQuestion]);var getListPropositions=function getListPropositions(){PropositionDataService.getAllByIdQuestion(props.idQuestion).then(function(response){setListePropositions(response.data);}).catch(function(e){console.log(e);});};var nextQuestion=function nextQuestion(proposition){if(proposition.pointsProfil){dispatch(incrementReponse());dispatch(incrementPointProfil(proposition.pointsProfil));}if(proposition.pointsTypeGestion){dispatch(incrementReponseGestion());dispatch(incrementPointGestion(proposition.pointsTypeGestion));}if(proposition.id==38||proposition.id==39||proposition.id==40||proposition.id==41){dispatch(setSelectedProposition(proposition.id));}props.setIndexHandler();};return/*#__PURE__*/React.createElement(\"div\",{className:\"list-group list-group-flush proposition-container \"},/*#__PURE__*/React.createElement(For,{of:listePropositions,as:function as(proposition){return/*#__PURE__*/React.createElement(\"div\",{className:\"list-group-item proposition-card\",onClick:function onClick(e){return nextQuestion(proposition);}},proposition.libelle);}}));};export default Proposition;","map":{"version":3,"sources":["C:/Perso/profiler_2.0/front/src/components/Proposition.js"],"names":["React","useState","useEffect","useSelector","useDispatch","For","PropositionDataService","incrementPointProfil","incrementReponse","incrementPointGestion","incrementReponseGestion","setSelectedProposition","Proposition","props","dispatch","listePropositions","setListePropositions","getListPropositions","idQuestion","getAllByIdQuestion","then","response","data","catch","e","console","log","nextQuestion","proposition","pointsProfil","pointsTypeGestion","id","setIndexHandler","libelle"],"mappings":"0JAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,CAA0BC,SAA1B,KAA2C,OAA3C,CACA,OAASC,WAAT,CAAsBC,WAAtB,KAAyC,aAAzC,CACA,OAASC,GAAT,KAAoB,aAApB,CACA,MAAOC,CAAAA,sBAAP,KAAmC,gCAAnC,CACA,OAASC,oBAAT,CAA+BC,gBAA/B,KAAuD,yBAAvD,CACA,MAAO,mBAAP,CACA,OAASC,qBAAT,CAAgCC,uBAAhC,KAA+D,0BAA/D,CACA,OAASC,sBAAT,KAAuC,0BAAvC,CAGA,GAAMC,CAAAA,WAAW,CAAG,QAAdA,CAAAA,WAAc,CAAAC,KAAK,CAAI,CAC3B,GAAMC,CAAAA,QAAQ,CAAGV,WAAW,EAA5B,CAD2B,cAGuBH,QAAQ,EAH/B,wCAGpBc,iBAHoB,eAGDC,oBAHC,eAK3Bd,SAAS,CAAC,iBAAMe,CAAAA,mBAAmB,EAAzB,EAAD,CAA8B,CAACJ,KAAK,CAACK,UAAP,CAA9B,CAAT,CAEA,GAAMD,CAAAA,mBAAmB,CAAG,QAAtBA,CAAAA,mBAAsB,EAAM,CAChCX,sBAAsB,CAACa,kBAAvB,CAA0CN,KAAK,CAACK,UAAhD,EACGE,IADH,CACQ,SAAAC,QAAQ,CAAI,CAChBL,oBAAoB,CAACK,QAAQ,CAACC,IAAV,CAApB,CACD,CAHH,EAIGC,KAJH,CAIS,SAAAC,CAAC,CAAI,CACVC,OAAO,CAACC,GAAR,CAAYF,CAAZ,EACD,CANH,EAOD,CARD,CAUA,GAAMG,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,CAACC,WAAD,CAAiB,CACpC,GAAIA,WAAW,CAACC,YAAhB,CAA8B,CAC5Bf,QAAQ,CAACN,gBAAgB,EAAjB,CAAR,CACAM,QAAQ,CAACP,oBAAoB,CAACqB,WAAW,CAACC,YAAb,CAArB,CAAR,CACD,CACD,GAAID,WAAW,CAACE,iBAAhB,CAAmC,CACjChB,QAAQ,CAACJ,uBAAuB,EAAxB,CAAR,CACAI,QAAQ,CAACL,qBAAqB,CAACmB,WAAW,CAACE,iBAAb,CAAtB,CAAR,CACD,CACD,GAAIF,WAAW,CAACG,EAAZ,EAAkB,EAAlB,EAAwBH,WAAW,CAACG,EAAZ,EAAkB,EAA1C,EAAgDH,WAAW,CAACG,EAAZ,EAAkB,EAAlE,EAAwEH,WAAW,CAACG,EAAZ,EAAkB,EAA9F,CAAkG,CAChGjB,QAAQ,CAACH,sBAAsB,CAACiB,WAAW,CAACG,EAAb,CAAvB,CAAR,CACD,CACDlB,KAAK,CAACmB,eAAN,GACD,CAbD,CAgBA,mBAEE,2BAAK,SAAS,CAAC,oDAAf,eACE,oBAAC,GAAD,EAAK,EAAE,CAAEjB,iBAAT,CAA4B,EAAE,CAAE,YAAAa,WAAW,qBACzC,2BAAK,SAAS,CAAC,kCAAf,CACE,OAAO,CAAE,iBAACJ,CAAD,QAAOG,CAAAA,YAAY,CAACC,WAAD,CAAnB,EADX,EAGGA,WAAW,CAACK,OAHf,CADyC,EAA3C,EADF,CAFF,CAcD,CA/CD,CAiDA,cAAerB,CAAAA,WAAf","sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\nimport { For } from 'react-loops'\r\nimport PropositionDataService from '../services/PropositionService'\r\nimport { incrementPointProfil, incrementReponse } from '../actions/profilAction'\r\nimport \"./Proposition.css\"\r\nimport { incrementPointGestion, incrementReponseGestion } from \"../actions/gestionAction\";\r\nimport { setSelectedProposition } from '../actions/supportAction';\r\n\r\n\r\nconst Proposition = props => {\r\n  const dispatch = useDispatch();\r\n\r\n  const [listePropositions, setListePropositions] = useState();\r\n\r\n  useEffect(() => getListPropositions(), [props.idQuestion])\r\n\r\n  const getListPropositions = () => {\r\n    PropositionDataService.getAllByIdQuestion(props.idQuestion)\r\n      .then(response => {\r\n        setListePropositions(response.data);\r\n      })\r\n      .catch(e => {\r\n        console.log(e)\r\n      })\r\n  }\r\n\r\n  const nextQuestion = (proposition) => {\r\n    if (proposition.pointsProfil) {\r\n      dispatch(incrementReponse())\r\n      dispatch(incrementPointProfil(proposition.pointsProfil))\r\n    }\r\n    if (proposition.pointsTypeGestion) {\r\n      dispatch(incrementReponseGestion())\r\n      dispatch(incrementPointGestion(proposition.pointsTypeGestion))\r\n    }\r\n    if (proposition.id == 38 || proposition.id == 39 || proposition.id == 40 || proposition.id == 41) {\r\n      dispatch(setSelectedProposition(proposition.id))\r\n    }\r\n    props.setIndexHandler()\r\n  }\r\n\r\n\r\n  return (\r\n\r\n    <div className=\"list-group list-group-flush proposition-container \" >\r\n      <For of={listePropositions} as={proposition =>\r\n        <div className=\"list-group-item proposition-card\"\r\n          onClick={(e) => nextQuestion(proposition)}\r\n        >\r\n          {proposition.libelle}\r\n        </div>\r\n\r\n      } />\r\n\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Proposition;\r\n"]},"metadata":{},"sourceType":"module"}