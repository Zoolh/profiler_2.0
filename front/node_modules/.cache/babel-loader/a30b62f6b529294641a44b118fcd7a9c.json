{"ast":null,"code":"import _slicedToArray from\"C:\\\\Perso\\\\profiler_2.0\\\\front\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from\"react\";import{For}from'react-loops';import Modal from'react-bootstrap/Modal';import Button from'react-bootstrap/Button';import ConseilDataService from'../../services/ConseilServices';var ModalProfil=function ModalProfil(props){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),allRegles=_useState2[0],setAllRegles=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),allTradersRegles=_useState4[0],setAllTradersRegles=_useState4[1];var _useState5=useState(),_useState6=_slicedToArray(_useState5,2),activeOnglet=_useState6[0],setActiveOnglet=_useState6[1];var _useState7=useState(false),_useState8=_slicedToArray(_useState7,2),modalShow=_useState8[0],setModalShow=_useState8[1];useEffect(function(){getAllRegles();},[]);var getOnglet=function getOnglet(onglet){setActiveOnglet(onglet);};var getAllRegles=function getAllRegles(){ConseilDataService.getAll().then(function(response){setAllRegles(response.data);console.log(response.data);}).catch(function(e){console.log(e);});};var truncate=function truncate(text){return text.length>60?text.substring(0,60)+\"...\":text;};var MydModalWithGrid=function MydModalWithGrid(props){return/*#__PURE__*/React.createElement(Modal,Object.assign({},props,{dialogClassName:\"modal-bloc\",\"aria-labelledby\":\"contained-modal-title-vcenter\"}),/*#__PURE__*/React.createElement(Modal.Header,{closeButton:true},/*#__PURE__*/React.createElement(Modal.Title,{id:\"contained-modal-title-vcenter\"},activeOnglet?/*#__PURE__*/React.createElement(\"p\",null,activeOnglet.libelle):/*#__PURE__*/React.createElement(\"p\",null,\"NADA\"))),/*#__PURE__*/React.createElement(Modal.Body,null,activeOnglet?/*#__PURE__*/React.createElement(\"p\",null,activeOnglet.description):/*#__PURE__*/React.createElement(\"p\",null,\"NADA\")),/*#__PURE__*/React.createElement(Modal.Footer,null,/*#__PURE__*/React.createElement(Button,{onClick:props.onHide,className:\"btn-close\"},\"Fermer\")));};return/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(\"p\",null,\"Voici les principales r\\xE8gles \\xE0 conna\\xEEtre pour devenir un \",props.ResultatProfil===5?\"Trader\":\"Investisseur\",\" performant !\"),props.ResultatProfil===5?/*#__PURE__*/React.createElement(For,{of:allRegles,as:function as(onglet){return/*#__PURE__*/React.createElement(\"div\",{style:{width:'100%'}},/*#__PURE__*/React.createElement(Button,{className:\"bloc-btn\",onClick:function onClick(){setModalShow(true);getOnglet(onglet);}},truncate(onglet.libelle)));}}):/*#__PURE__*/React.createElement(For,{of:allRegles.filter(function(regle){return regle.id!=9&&regle.id!=10&&regle.id!=11&&regle.id!=12&&regle.id!=13&&regle.id!=14;}),as:function as(onglet){return/*#__PURE__*/React.createElement(\"div\",{style:{width:'100%'}},/*#__PURE__*/React.createElement(Button,{className:\"bloc-btn\",onClick:function onClick(){setModalShow(true);getOnglet(onglet);}},truncate(onglet.libelle)));}}),/*#__PURE__*/React.createElement(MydModalWithGrid,{show:modalShow,onHide:function onHide(){return setModalShow(false);}})));};export default ModalProfil;","map":{"version":3,"sources":["C:/Perso/profiler_2.0/front/src/components/modals/regles.modal.js"],"names":["React","useState","useEffect","For","Modal","Button","ConseilDataService","ModalProfil","props","allRegles","setAllRegles","allTradersRegles","setAllTradersRegles","activeOnglet","setActiveOnglet","modalShow","setModalShow","getAllRegles","getOnglet","onglet","getAll","then","response","data","console","log","catch","e","truncate","text","length","substring","MydModalWithGrid","libelle","description","onHide","ResultatProfil","width","filter","regle","id"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport { For } from 'react-loops'\r\nimport Modal from 'react-bootstrap/Modal'\r\nimport Button from 'react-bootstrap/Button'\r\nimport ConseilDataService from '../../services/ConseilServices'\r\n\r\nconst ModalProfil = props => {\r\n\r\n    const [allRegles, setAllRegles] = useState([])\r\n    const [allTradersRegles, setAllTradersRegles] = useState([])\r\n    const [activeOnglet, setActiveOnglet] = useState()\r\n    const [modalShow, setModalShow] = useState(false)\r\n\r\n    useEffect(() => {\r\n        getAllRegles()\r\n    }, [])\r\n\r\n    const getOnglet = (onglet) => {\r\n        setActiveOnglet(onglet)\r\n    }\r\n\r\n    const getAllRegles = () => {\r\n        ConseilDataService.getAll()\r\n            .then(response => {\r\n                setAllRegles(response.data)\r\n                console.log(response.data)\r\n            })\r\n            .catch(e => {\r\n                console.log(e)\r\n            })\r\n    }\r\n\r\n    const truncate = (text) => {\r\n        return text.length > 60 ? text.substring(0, 60) + \"...\" : text;\r\n    }\r\n\r\n    const MydModalWithGrid = props => {\r\n        return (\r\n            <Modal {...props}\r\n                dialogClassName=\"modal-bloc\"\r\n                aria-labelledby=\"contained-modal-title-vcenter\"\r\n            >\r\n                <Modal.Header closeButton>\r\n                    <Modal.Title id=\"contained-modal-title-vcenter\">\r\n                        {activeOnglet ? <p>{activeOnglet.libelle}</p> : <p>NADA</p>}\r\n                    </Modal.Title>\r\n                </Modal.Header>\r\n                <Modal.Body>\r\n                    {activeOnglet ? <p>{activeOnglet.description}</p> : <p>NADA</p>}\r\n                </Modal.Body>\r\n                <Modal.Footer>\r\n                    <Button onClick={props.onHide} className=\"btn-close\">Fermer</Button>\r\n                </Modal.Footer>\r\n            </Modal>\r\n\r\n        );\r\n    }\r\n\r\n\r\n\r\n    return (\r\n\r\n        <div>\r\n            <>\r\n            <p>Voici les principales règles à connaître pour devenir un {props.ResultatProfil === 5 ? (\"Trader\") : (\"Investisseur\")} performant !</p>\r\n                {props.ResultatProfil === 5 ?\r\n                    (<For of={allRegles} as={onglet =>\r\n                        <div style={{ width: '100%' }}>\r\n                            <Button className=\"bloc-btn\" onClick={() => {\r\n                                setModalShow(true);\r\n                                getOnglet(onglet)\r\n                            }}>\r\n                                {truncate(onglet.libelle)}\r\n                            </Button>\r\n                        </div>\r\n                    } />) :\r\n                    (<For of={allRegles.filter(regle => regle.id != 9 &&\r\n                        regle.id != 10 && \r\n                        regle.id != 11 && \r\n                        regle.id != 12 && \r\n                        regle.id != 13 &&\r\n                        regle.id != 14)} as={onglet =>\r\n                        <div style={{ width: '100%' }}>\r\n                            <Button className=\"bloc-btn\" onClick={() => {\r\n                                setModalShow(true);\r\n                                getOnglet(onglet)\r\n                            }}>\r\n                                {truncate(onglet.libelle)}\r\n                            </Button>\r\n                        </div>\r\n                    } />)}\r\n\r\n                <MydModalWithGrid show={modalShow} onHide={() => setModalShow(false)} />\r\n            </>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default ModalProfil;\r\n"]},"metadata":{},"sourceType":"module"}